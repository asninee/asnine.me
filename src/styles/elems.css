.blur-top {
  @apply backdrop-blur-sm w-full top-0 pointer-events-none fixed h-24;
  mask-image: linear-gradient(to bottom, rgb(0, 0, 0) 25%, transparent);
}

.blur-top:after {
  @apply content-[''] absolute inset-0;
  background: linear-gradient(to bottom, hsl(0 0% 99%), transparent);
}

.blur-bottom {
  @apply backdrop-blur-sm w-full bottom-0 pointer-events-none fixed h-24;
  mask-image: linear-gradient(to top, rgb(0, 0, 0) 25%, transparent);
}

.blur-bottom:before {
  @apply content-[''] absolute inset-0;
  background: linear-gradient(to top, hsl(0 0% 99%), transparent);
}

.hover-before {
  @apply before:content-[''] before:absolute before:inset-0 before:-z-10 before:opacity-0 before:scale-75 before:rounded-lg before:transition-all before:duration-200 before:bg-transparent hover:before:opacity-100 hover:before:scale-100 hover:before:transition-all  hover:before:bg-gray-100 dark:hover:before:bg-gray-800/60 focus:before:bg-gray-100 dark:focus:before:bg-gray-800/60;
}

.image-box.image-box {
  @apply rounded-md;

  &:is(a) {
    @apply p-2 -mx-2;
  }
}

.prose {
  @apply max-w-container;

  & > :not(:last-child) {
    @apply mb-6;
  }

  & h1,
  & h2,
  & h3 {
    @apply font-medium mt-6;
  }

  & h1 {
    @apply text-2xl;
  }

  & h2 {
    @apply text-lg;
  }

  & p {
    @apply leading-relaxed;
  }

  & ul {
    @apply list-disc list-outside;
  }

  & ol {
    @apply list-decimal list-outside marker:font-medium;
  }

  & :not(pre) > code {
    @apply p-1 text-xs bg-gray-100 dark:bg-gray-800 rounded;
  }

  & pre {
    @apply p-4 text-xs md:text-sm;
  }

  & a {
    @apply whitespace-nowrap max-w-container;
  }

  & em {
    @apply font-serif md:text-lg;
  }

  & strong,
  & strong > em {
    @apply font-semibold;
  }

  & hr {
    @apply border-gray-200 dark:border-gray-700 border-b-0 my-10;
  }

  & img {
    @apply mx-auto rounded;
  }

  & figcaption {
    @apply px-6 text-gray-600 dark:text-gray-400 font-serif;
  }

  blockquote {
    @apply font-serif italic relative bg-gray-100 dark:bg-gray-800 rounded-sm py-4 px-6;

    &:after,
    &:before {
      @apply text-4xl leading-none text-gray-300 font-black;
      position: absolute;

      :global(.dark) & {
        @apply text-gray-600;
      }
    }
  }

  table {
    @apply border-collapse table-fixed;

    & thead {
      @apply border-b dark:border-gray-700;
    }

    & th {
      @apply text-left;
    }

    & th,
    & td {
      @apply py-1 px-2 md:px-4;
    }
  }

  .footnotes {
    & .data-footnote-backref {
      @apply font-serif;
    }

    & h2 {
      @apply mb-2;
    }
  }
}

.md {
  & ul,
  ol {
    @apply pl-8 flex flex-col gap-2;
  }
}
